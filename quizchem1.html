<!--
‡§ï‡§ï‡•ç‡§∑‡§æ 11 ‡§∞‡§∏‡§æ‡§Ø‡§® ‚Äî ‡§§‡•ç‡§∞‡•à‡§Æ‡§æ‡§∏‡§ø‡§ï (2025‚Äì26) ‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•ç‡§µ‡§ø‡§ú
‚úîÔ∏è ‡§¨‡•ç‡§≤‡•â‡§ó‡§∞ (Blogger) ‡§™‡•ã‡§∏‡•ç‡§ü ‡§Æ‡•á‡§Ç ‡§∏‡•Ä‡§ß‡•á ‡§™‡•á‡§∏‡•ç‡§ü ‡§ï‡§∞‡§®‡•á ‡§≤‡§æ‡§Ø‡§ï ‡§è‡§ï‡§≤ HTML + CSS + JS
‚úîÔ∏è ‡§Ø‡•Ç‡§®‡§ø‡§ü ‡§ö‡§Ø‡§® ‚Üí ‡§è‡§ï-‡§è‡§ï ‡§ï‡§∞‡§ï‡•á ‡§™‡•ç‡§∞‡§∂‡•ç‡§®, ‡§â‡§§‡•ç‡§§‡§∞ ‡§¨‡•â‡§ï‡•ç‡§∏, ‡§∏‡§π‡•Ä/‡§ó‡§≤‡§§/‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§∏‡§π‡•Ä ‡§∏‡§Ç‡§¶‡•á‡§∂
‚úîÔ∏è ‡§Ö‡§Ç‡§§ ‡§Æ‡•á‡§Ç ‡§∏‡•ç‡§ï‡•ã‡§∞, ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ ‡§î‡§∞ ‡§Ö‡§®‡•ç‡§Ø ‡§á‡§ï‡§æ‡§à ‡§ö‡•Å‡§®‡§®‡•á ‡§ï‡•á ‡§¨‡§ü‡§®
-->

<div id="chem11-app">
  <style>
    #chem11-app{font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif;line-height:1.5}
    .wrap{max-width:860px;margin:0 auto;padding:0}
.card{background:#ffffff;border:1px solid #e6e6e6;border-radius:12px;box-shadow:0 6px 16px rgba(0,0,0,.06);padding:8px}
    .title{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .badge{background:linear-gradient(135deg,#1976d2,#0d47a1);color:#fff;border-radius:999px;padding:6px 12px;font-weight:700;font-size:14px}
    .sub{color:#0d47a1;font-weight:700}
    .units{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:12px;margin-top:14px}
    .btn{border:0;border-radius:12px;padding:12px 14px;background:#0d47a1;color:#fff;font-weight:700;cursor:pointer;transition:transform .06s ease,box-shadow .2s ease}
    .btn:hover{box-shadow:0 8px 18px rgba(13,71,161,.25)}
    .btn:active{transform:translateY(1px)}
    .btn.outline{background:#fff;color:#0d47a1;border:2px solid #0d47a1}
    .muted{color:#555}
    .qbox{margin-top:14px;background:#f7f9ff;border:1px solid #e0e7ff;padding:16px;border-radius:14px}
    .q{font-weight:700}
    .input{margin-top:10px;display:flex;gap:8px}
    .input input{flex:1;padding:12px;border-radius:10px;border:1px solid #cbd5e1;font-size:16px}
    .note{font-size:12px;color:#666;margin-top:6px}
    .msg{margin-top:12px;padding:10px 12px;border-radius:10px;font-weight:700}
    .ok{background:#e8f5e9;color:#1b5e20;border:1px solid #c8e6c9}
    .bad{background:#ffebee;color:#b71c1c;border:1px solid #ffcdd2}
    .mid{background:#fff8e1;color:#b26a00;border:1px solid #ffe0b2}
    .progress{margin-top:14px;font-size:14px;color:#333}
    .scorebox{margin-top:18px;display:flex;gap:10px;flex-wrap:wrap}
    .brand{margin-top:16px;font-size:13px;color:#444}
    .brand a{color:#0d47a1;text-decoration:none;font-weight:700}
    @media (max-width:560px){.units{grid-template-columns:1fr}.title{gap:8px}}
  </style>

  <div class="wrap">
    <div class="card" id="view-start">
      <div class="title">
        <span class="badge">‡§ï‡§ï‡•ç‡§∑‡§æ 11</span>
        <div>
          <div style="font-size:22px;font-weight:800">‡§∞‡§∏‡§æ‡§Ø‡§® ‡§∂‡§æ‡§∏‡•ç‡§§‡•ç‡§∞ ‚Äî ‡§§‡•ç‡§∞‡•à‡§Æ‡§æ‡§∏‡§ø‡§ï (2025‚Äì26)</div>
          <div class="muted">‡§≤‡•ã‡§ï ‡§∂‡§ø‡§ï‡•ç‡§∑‡§£ ‡§∏‡§Ç‡§ö‡§æ‡§≤‡§®‡§æ‡§≤‡§Ø, ‡§Æ‡§ß‡•ç‡§Ø ‡§™‡•ç‡§∞‡§¶‡•á‡§∂ ‚Äî ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§¨‡•à‡§Ç‡§ï ‡§Ü‡§ß‡§æ‡§∞‡§ø‡§§ ‡§∞‡§ø‡§ï‡•ç‡§§ ‡§∏‡•ç‡§•‡§æ‡§® ‡§ï‡•ç‡§µ‡§ø‡§ú</div>
        </div>
      </div>
      <div style="margin-top:14px" class="sub">‡§á‡§ï‡§æ‡§à ‡§ö‡•Å‡§®‡•á‡§Ç</div>
      <div class="units">
        <button class="btn" data-unit="1">‡§á‡§ï‡§æ‡§à-1 ¬∑ ‡§∞‡§∏‡§æ‡§Ø‡§® ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§Æ‡•Ç‡§≤‡§≠‡•Ç‡§§ ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ‡§è‡§Å</button>
        <button class="btn" data-unit="2">‡§á‡§ï‡§æ‡§à-2 ¬∑ ‡§™‡§∞‡§Æ‡§æ‡§£‡•Å ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ</button>
        <button class="btn" data-unit="3">‡§á‡§ï‡§æ‡§à-3 ¬∑ ‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡§∞‡•ç‡§ó‡•Ä‡§ï‡§∞‡§£ ‡§µ ‡§Ü‡§µ‡§∞‡•ç‡§§‡§ø‡§§‡§æ</button>
        <button class="btn" data-unit="4">‡§á‡§ï‡§æ‡§à-4 ¬∑ ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§Ü‡§¨‡§Ç‡§ß‡§® ‡§µ ‡§Ü‡§£‡•ç‡§µ‡§ø‡§ï ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ</button>
      </div>

      <div class="brand">Powered by <a href="https://mpeducationgyandeep.in" target="_blank" rel="noopener">MP EDUCATION GYAN DEEP</a></div>
    </div>

    <div class="card" id="view-quiz" style="display:none"></div>
  </div>
</div>

<script>
(function(){
  // ---------- Helpers ----------
  const el = (sel,root=document)=>root.querySelector(sel);
  const els = (sel,root=document)=>Array.from(root.querySelectorAll(sel));
  const strip = s => (s||"")
      .toString()
      .normalize('NFKC')
      .toLowerCase()
      .replace(/[\u0902\u0901\u093c]/g,'') // anusvara, chandrabindu, nukta
      .replace(/[.,;:!?()\[\]{}"'`¬¥¬∞]|\s+/g,' ') // punctuation
      .trim();
  const onlyDigitsDot = s=>strip(s).replace(/[^0-9.]/g,'');
  function similarity(a,b){ // Jaccard over tokens fallback to Levenshtein-like ratio
    a=strip(a); b=strip(b);
    if(!a||!b) return 0;
    const ta=new Set(a.split(' ')), tb=new Set(b.split(' '));
    const inter=[...ta].filter(t=>tb.has(t)).length;
    const union=new Set([...ta,...tb]).size;
    const j=inter/union;
    // quick char-level ratio
    const minLen=Math.min(a.length,b.length); const maxLen=Math.max(a.length,b.length);
    let same=0; for(let i=0;i<minLen;i++){ if(a[i]===b[i]) same++; }
    const r = (same/maxLen);
    return Math.max(j, r*0.9 + j*0.1);
  }

  // ---------- Data ----------
  // ‡§™‡•ç‡§∞‡§§‡•ç‡§Ø‡•á‡§ï ‡§™‡•ç‡§∞‡§∂‡•ç‡§® ‡§ï‡•á ‡§≤‡§ø‡§è acceptable ‡§â‡§§‡•ç‡§§‡§∞‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡•Ç‡§ö‡•Ä (multiple variants) ‡§¶‡•Ä ‡§ó‡§à ‡§π‡•à‡•§
  // ‡§ú‡§ø‡§® ‡§™‡•ç‡§∞‡§∂‡•ç‡§®‡•ã‡§Ç ‡§Æ‡•á‡§Ç ‡§¶‡•ã ‡§∂‡§¨‡•ç‡§¶ ‡§Ö‡§™‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§π‡•à‡§Ç, ‡§â‡§§‡•ç‡§§‡§∞ ‡§Æ‡•á‡§Ç ‡§¶‡•ã‡§®‡•ã‡§Ç ‡§∂‡§¨‡•ç‡§¶ ‡§Ü ‡§ú‡§æ‡§è‡§Å ‡§§‡•ã ‡§∏‡§π‡•Ä ‡§Æ‡§æ‡§®‡§æ ‡§ú‡§æ‡§è‡§ó‡§æ (‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡§æ‡§Ø‡§®‡•á ‡§®‡§π‡•Ä‡§Ç ‡§∞‡§ñ‡•á‡§ó‡§æ)‡•§
  const BANK = {
    1: [
      {q:"(1) ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§§‡§æ‡§™ ‡§è‡§µ‡§Ç ‡§¶‡§æ‡§¨ ‡§™‡§∞ ‡§ó‡•à‡§∏ ‡§ï‡•á ‡§è‡§ï ‡§Æ‡•ã‡§≤ ‡§Ö‡§£‡•Å‡§ì‡§Ç ‡§ï‡§æ ‡§Ü‡§Ø‡§§‡§® ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
       answers:["22.4 ‡§≤‡•Ä‡§ü‡§∞","22.4 l","22.4 litre","22.4l","22.4",
                "22.7 ‡§≤‡•Ä‡§ü‡§∞","22.7 l","22.7l","22.7"] , numericOk:true},
      {q:"(2) ‡§µ‡§ø‡§≤‡§Ø‡§® ‡§ï‡•Ä ‡§∏‡§æ‡§Ç‡§¶‡•ç‡§∞‡§§‡§æ ‡§µ‡•ç‡§Ø‡§ï‡•ç‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•Ä ‡§µ‡§π ‡§µ‡§ø‡§ß‡§ø ‡§ú‡•ã ‡§§‡§æ‡§™‡§Æ‡§æ‡§® ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§∏‡•á ‡§™‡•ç‡§∞‡§≠‡§æ‡§µ‡§ø‡§§ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§ï‡§π‡§≤‡§æ‡§§‡•Ä ‡§π‡•à‡•§",
       answers:["‡§Æ‡•ã‡§≤‡§∞‡§§‡§æ","‡§Æ‡•ã‡§≤‡§∞‡§ø‡§ü‡•Ä","molarity"]},
      {q:"(3) '‡§ï‡•á‡§Æ‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä' ‡§∂‡§¨‡•ç‡§¶ ‡§ï‡•Ä ‡§â‡§§‡•ç‡§™‡§§‡•ç‡§§‡§ø ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§∂‡§¨‡•ç‡§¶ ‡§∏‡•á ‡§π‡•Å‡§à ‡§ú‡§ø‡§∏‡§ï‡§æ ‡§Ö‡§∞‡•ç‡§• ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
       answers:["‡§ï‡•á‡§Æ‡§ø‡§Ø‡§æ","‡§ï‡•á‡§Æ‡§ø‡§Ø‡§æ (‡§ó‡•ç‡§∞‡•Ä‡§ï)","‡§ï‡§ø‡§Æ‡•Ä‡§Ø‡§æ","‡§Ö‡§≤‡•ç‡§ï‡•á‡§Æ‡•Ä","‡§Ö‡§≤-‡§ï‡•Ä‡§Æ‡§ø‡§Ø‡§æ","alkimiya","alchemy","khemia","chemeia"]},
      {q:"(4) ‡§ú‡§¨ ‡§™‡•ç‡§∞‡•á‡§ï‡•ç‡§∑‡§ø‡§§ ‡§Æ‡§æ‡§® ‡§µ ‡§µ‡§æ‡§∏‡•ç‡§§‡§µ‡§ø‡§ï ‡§Æ‡§æ‡§® ‡§Æ‡•á‡§Ç ‡§Ö‡§Ç‡§§‡§∞ ‡§¨‡§π‡•Å‡§§ ‡§ï‡§Æ ‡§π‡•ã‡§§‡§æ ‡§π‡•à ‡§§‡•ã ‡§á‡§∏‡•á ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§",
       answers:["‡§∂‡•Å‡§¶‡•ç‡§ß‡§§‡§æ","‡§∏‡§ü‡•Ä‡§ï‡§§‡§æ","accuracy"]},
      {q:"(5) ‡§ï‡§ø‡§∏‡•Ä ‡§§‡§§‡•ç‡§µ ‡§ï‡§æ ‡§µ‡§π ‡§∏‡•Ç‡§ï‡•ç‡§∑‡•ç‡§Æ‡§§‡§Æ ‡§ï‡§£ ‡§ú‡•ã ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§Ö‡§≠‡§ø‡§ï‡•ç‡§∞‡§ø‡§Ø‡§æ ‡§Æ‡•á‡§Ç ‡§≠‡§æ‡§ó ‡§≤‡•á‡§§‡§æ ‡§π‡•à ‡§ï‡§ø‡§®‡•ç‡§§‡•Å ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§Ö‡§µ‡§∏‡•ç‡§•‡§æ ‡§Æ‡•á‡§Ç ‡§®‡§π‡•Ä‡§Ç ‡§∞‡§π ‡§∏‡§ï‡§§‡§æ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§ï‡§π‡§≤‡§æ‡§§‡§æ ‡§π‡•à‡•§",
       answers:["‡§™‡§∞‡§Æ‡§æ‡§£‡•Å","atom"]}
    ],
    2: [
      {q:"1. ‡§è‡§ï ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á m‚Çó ‡§ï‡§æ ‡§Æ‡§æ‡§® = ‚àí2, ‚àí1, 0, +1, +2 ‡§π‡•à, ‡§§‡•ã ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. ‡§ï‡§ï‡•ç‡§∑‡§ï ‡§Æ‡•á‡§Ç ‡§π‡•à‡•§",
       answers:["d","‡§°‡•Ä","d ‡§ï‡§ï‡•ç‡§∑‡§ï","d-‡§ë‡§∞‡•ç‡§¨‡§ø‡§ü‡§≤","d orbital"]},
      {q:"2. ‡§ú‡§ø‡§∏ ‡§ï‡§ï‡•ç‡§∑‡§ï ‡§ï‡•á ‡§≤‡§ø‡§Ø‡•á n = 1 ‡§è‡§µ‡§Ç l = 0 ‡§π‡•ã‡§ó‡§æ ‡§â‡§∏‡•á ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§∏‡•á ‡§™‡•ç‡§∞‡§¶‡§∞‡•ç‡§∂‡§ø‡§§ ‡§ï‡§∞‡•á‡§Ç‡§ó‡•á‡•§",
       answers:["1s","1 s","‡§ï‡•á ‡§∂‡•á‡§≤ s","k shell s","1s ‡§ï‡§ï‡•ç‡§∑‡§ï"]},
      {q:"3. ‡§Ü‡§µ‡•É‡§§‡•ç‡§§‡§ø ‡§ï‡•á ‡§¨‡§¢‡§º‡§§‡•á ‡§ï‡•ç‡§∞‡§Æ ‡§Æ‡•á‡§Ç: ‡§è‡§´ ‡§è‡§Æ ‡§∞‡•á‡§°‡§ø‡§Ø‡•ã < ‡§Æ‡§æ‡§á‡§ï‡•ç‡§∞‡•ã‡§µ‡•á‡§µ ‡§ì‡§µ‡§® < ‡§¶‡•É‡§∂‡•ç‡§Ø‡§Æ‡§æ‡§®/‡§Ö‡§µ‡§∞‡§ï‡•ç‡§§ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∂ < ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§ï‡§ø‡§∞‡§£‡•á‡§Ç < ‡§ï‡•â‡§∏‡•ç‡§Æ‡§ø‡§ï ‡§ï‡§ø‡§∞‡§£‡•á‡§Ç‡•§",
       answers:["‡§™‡§∞‡§æ‡§¨‡•à‡§Ç‡§ó‡§®‡•Ä","‡§Ö‡§≤‡•ç‡§ü‡•ç‡§∞‡§æ‡§µ‡§æ‡§Ø‡§≤‡•á‡§ü","ultraviolet","uv"]},
      {q:"4. ‡§Ø‡§¶‡§ø ‡§ï‡§ø‡§∏‡•Ä ‡§™‡§∞‡§Æ‡§æ‡§£‡•Å ‡§Æ‡•á‡§Ç n ‡§ï‡§æ ‡§Æ‡§æ‡§® 4 ‡§π‡•à ‡§§‡•ã ‡§ï‡•Å‡§≤ ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡•ã‡§Ç ‡§ï‡•Ä ‡§∏‡§Ç‡§ñ‡•ç‡§Ø‡§æ ........... ‡§π‡•ã‡§ó‡•Ä‡•§",
       answers:["32","‡•®‡•≠?","32e"], numericOk:true, exactNumeric:32},
      {q:"5. ‡§∏‡§Ç‡§ï‡§∞‡§£ ‡§ï‡•á ‡§™‡§∂‡•ç‡§ö‡§æ‡§§ ‡§™‡•ç‡§∞‡§æ‡§™‡•ç‡§§ ‡§Ü‡§∞‡•ç‡§¨‡§ø‡§ü‡§≤ ‡§ï‡•Ä ‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§è‡§µ‡§Ç ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶ ‡§∏‡§Æ‡§æ‡§® ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
       answers:["‡§ä‡§∞‡•ç‡§ú‡§æ & ‡§Ü‡§ï‡•É‡§§‡§ø","‡§ä‡§∞‡•ç‡§ú‡§æ & ‡§Ü‡§ï‡§æ‡§∞","‡§ä‡§∞‡•ç‡§ú‡§æ & ‡§¶‡§ø‡§∂‡§æ","energy & shape"], multiKey:["‡§ä‡§∞‡•ç‡§ú‡§æ","‡§Ü‡§ï‡•É‡§§‡§ø|‡§Ü‡§ï‡§æ‡§∞|‡§¶‡§ø‡§∂‡§æ|orientation|shape"]}
    ],
    3: [
      {q:"1. ‡§ë‡§ï‡•ç‡§∏‡•Ä‡§ú‡§® ‡§ï‡•Ä ‡§™‡§∞‡§Æ‡§æ‡§£‡•ç‡§µ‡§ø‡§ï ‡§§‡•ç‡§∞‡§ø‡§ú‡•ç‡§Ø‡§æ ‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® ‡§∏‡•á ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. ‡§π‡•ã‡§§‡•Ä ‡§π‡•à‡•§",
       answers:["‡§ï‡§Æ","‡§õ‡•ã‡§ü‡•Ä","less","smaller"]},
      {q:"2. ‡§ú‡§¨ ‡§ï‡§ø‡§∏‡•Ä ‡§ó‡•à‡§∏‡•Ä‡§Ø ‡§™‡§∞‡§Æ‡§æ‡§£‡•Å ‡§™‡§∞ ‡§è‡§ï ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§ú‡•ã‡§°‡§º‡§æ ‡§ú‡§æ‡§§‡§æ ‡§π‡•à, ‡§§‡•ã ‡§®‡§ø‡§ï‡§≤‡§®‡•á ‡§µ‡§æ‡§≤‡•Ä ‡§ä‡§∞‡•ç‡§ú‡§æ ‡§ï‡•ã ‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§ï‡§π‡§§‡•á ‡§π‡•à‡§Ç‡•§",
       answers:["‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§Ü‡§™‡•á‡§ï‡•ç‡§∑‡•Ä","‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§Ö‡§≠‡§ø‡§≤‡§ó‡•ç‡§®‡§§‡§æ","‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§® ‡§Ü‡§§‡•ç‡§Æ‡•Ä‡§Ø‡§§‡§æ","electron affinity","ea"]},
      {q:"3. Mn ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§§‡§§‡•ç‡§µ ‡§ï‡§æ ‡§â‡§¶‡§æ‡§π‡§∞‡§£ ‡§π‡•à‡•§",
       answers:["‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§§‡§§‡•ç‡§µ","‡§∏‡§Ç‡§ï‡•ç‡§∞‡§Æ‡§£ ‡§ß‡§æ‡§§‡•Å","transition element","transition metal"]},
      {q:"4. ‡§¨‡•ã‡§∞‡•â‡§® ‡§µ‡§ø‡§ï‡§∞‡•ç‡§£‡§§‡§É ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§∏‡•á ‡§∏‡§Æ‡•ç‡§¨‡§®‡•ç‡§ß‡§ø‡§§ ‡§π‡•à‡•§",
       answers:["‡§∏‡§ø‡§≤‡§ø‡§ï‡•â‡§®","silicon","si"]},
      {q:"5. ‡§®‡•ç‡§Ø‡•Ç‡§®‡§§‡§Æ ‡§ó‡§≤‡§®‡§æ‡§Ç‡§ï ‡§µ‡§æ‡§≤‡•Ä ‡§ß‡§æ‡§§‡•Å ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. ‡§π‡•à‡•§",
       answers:["‡§™‡§æ‡§∞‡§æ","‡§Æ‡§∞‡§ï‡•ç‡§Ø‡•Å‡§∞‡•Ä","mercury","hg"]},
      {q:"6. ‡§Ü‡§µ‡§∞‡•ç‡§§ ‡§§‡§æ‡§≤‡§ø‡§ï‡§æ ‡§Æ‡•á‡§Ç ‡§Ö‡§ß‡§æ‡§§‡•Å ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§ì‡§∞ ‡§∏‡•ç‡§•‡§ø‡§§ ‡§π‡•à‡•§",
       answers:["‡§¶‡§æ‡§π‡§ø‡§®‡•Ä","‡§¶‡§æ‡§è‡§Å","right","right side"]}
    ],
    4: [
      {q:"1. ‡§∏‡§≠‡•Ä ‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§¨‡§®‡•ç‡§ß‡•ã‡§Ç ‡§ï‡§æ ‡§∏‡•ç‡§•‡§æ‡§Ø‡§ø‡§§‡•ç‡§µ ‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶‚Ä¶. ‡§ï‡•á ‡§Æ‡§ß‡•ç‡§Ø ‡§Ü‡§ï‡§∞‡•ç‡§∑‡§£ ‡§¨‡§¢‡§º‡§®‡•á ‡§∏‡•á ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
       answers:["‡§®‡§æ‡§≠‡§ø‡§ï ‡§î‡§∞ ‡§∏‡§Ç‡§Ø‡•ã‡§ú‡§ï ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡•ã‡§Ç","‡§®‡§æ‡§≠‡§ø‡§ï ‡§î‡§∞ ‡§á‡§≤‡•á‡§ï‡•ç‡§ü‡•ç‡§∞‡•â‡§®‡•ã‡§Ç","‡§ß‡§®‡§æ‡§Ø‡§® ‡§î‡§∞ ‡§ã‡§£‡§æ‡§Ø‡§®","‡§Ü‡§Ø‡§®‡•ã‡§Ç"],
       anyOf:true},
      {q:"2. ‡§∏‡§π‡§∏‡§Ç‡§Ø‡•ã‡§ú‡§ï ‡§Ø‡•å‡§ó‡§ø‡§ï‡•ã‡§Ç ‡§ï‡§æ ‡§ó‡§≤‡§®‡§æ‡§Ç‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§ ........... ‡§π‡•ã‡§§‡§æ ‡§π‡•à‡•§",
       answers:["‡§ï‡§Æ","‡§®‡§ø‡§Æ‡•ç‡§®","low"]},
      {q:"3. ‡§®‡§æ‡§á‡§ü‡•ç‡§∞‡•ã‡§ú‡§® (N‚ÇÇ) ‡§Ö‡§£‡•Å ‡§Æ‡•á‡§Ç ‚Ä¶‚Ä¶‚Ä¶‚Ä¶.. œÄ-‡§¨‡§®‡•ç‡§ß ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
       answers:["2","‡§¶‡•ã"], numericOk:true, exactNumeric:2},
      {q:"4. ‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§Æ‡•ã‡§®‡•ã‡§ï‡•ç‡§∏‡§æ‡§á‡§° (CO) ‡§Æ‡•á‡§Ç ‡§ï‡§æ‡§∞‡•ç‡§¨‡§® ‡§ï‡•Ä ‡§∏‡§π‡§∏‡§Ç‡§Ø‡•ã‡§ú‡§ï‡§§‡§æ ......... ‡§π‡•à‡•§",
       answers:["2","‡§¶‡•ã"], numericOk:true, exactNumeric:2},
      {q:"5. NH‚ÇÉ ‡§Ö‡§£‡•Å ‡§ï‡•Ä ‡§Ü‡§ï‡•É‡§§‡§ø ............. ‡§π‡•à‡•§",
       answers:["‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£‡•Ä‡§Ø ‡§™‡§ø‡§∞‡§æ‡§Æ‡§ø‡§°‡•Ä‡§Ø","‡§§‡•ç‡§∞‡§ø‡§ï‡•ã‡§£ ‡§™‡§ø‡§∞‡§æ‡§Æ‡§ø‡§°‡§æ‡§ï‡§æ‡§∞","trigonal pyramidal","pyramidal"]},
      {q:"6. ‡§Ü‡§Ø‡§®‡§ø‡§ï ‡§Ø‡•å‡§ó‡§ø‡§ï ‡§∏‡§æ‡§Æ‡§æ‡§®‡•ç‡§Ø‡§§‡§É ‡§ú‡§≤ ‡§Æ‡•á‡§Ç ............. ‡§π‡•ã‡§§‡•á ‡§π‡•à‡§Ç‡•§",
       answers:["‡§µ‡§ø‡§≤‡•á‡§Ø","‡§ò‡•Å‡§≤‡§®‡§∂‡•Ä‡§≤","soluble"]}
    ]
  };

  // ---------- State ----------
  const state = {unit:null, idx:0, score:0, total:0};

  // ---------- UI ----------
  const startView = el('#view-start');
  const quizView = el('#view-quiz');

  function showStart(){
    quizView.style.display='none';
    startView.style.display='block';
  }

  function startUnit(u){
    state.unit=u; state.idx=0; state.score=0; state.total=BANK[u].length;
    renderQuestion();
  }

  function renderQuestion(){
    startView.style.display='none'; quizView.style.display='block';
    const list=BANK[state.unit]; const item=list[state.idx];
    const head = `<div class="title"><span class="badge">‡§á‡§ï‡§æ‡§à-${state.unit}</span>
      <div><div style="font-size:20px;font-weight:800">${unitName(state.unit)}</div>
      <div class="muted">‡§™‡•ç‡§∞‡§∂‡•ç‡§® ${state.idx+1} / ${state.total}</div></div></div>`;

    const html = `
      ${head}
      <div class="qbox">
        <div class="q">${item.q}</div>
        <div class="input">
          <input id="answer" type="text" placeholder="‡§Ø‡§π‡§æ‡§Å ‡§â‡§§‡•ç‡§§‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç..." autocomplete="off" />
           </div>
           <div><button class="btn" id="submit">‡§∏‡§¨‡§Æ‡§ø‡§ü</button>
        </div>
        <div class="note">‡§∏‡§Ç‡§ï‡•á‡§§: ‡§π‡§ø‡§Ç‡§¶‡•Ä/‡§Ö‡§Ç‡§ó‡•ç‡§∞‡•á‡§ú‡§º‡•Ä, ‡§Ö‡§Ç‡§ï‡•ã‡§Ç (22.4 / 22.7) ‡§µ ‡§∏‡§Æ‡§æ‡§®‡§æ‡§∞‡•ç‡§•‡•Ä ‡§∂‡§¨‡•ç‡§¶ ‡§∏‡•ç‡§µ‡•Ä‡§ï‡§æ‡§∞‡•ç‡§Ø ‡§π‡•à‡§Ç‡•§</div>
        <div id="feedback"></div>
      </div>
      <div class="progress">‡§∏‡•ç‡§ï‡•ã‡§∞: <b>${state.score}</b> / ${state.idx}</div>
      <div class="scorebox">
        <button class="btn outline" id="backUnits">‡§Ö‡§®‡•ç‡§Ø ‡§á‡§ï‡§æ‡§à ‡§ö‡•Å‡§®‡•á‡§Ç</button>
        <button class="btn outline" id="retryUnit">‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ (‡§á‡§ï‡§æ‡§à)</button>
      </div>
      <div class="brand">MP EDUCATION GYAN DEEP ‚Ä¢ <a href="https://mpeducationgyandeep.in" target="_blank" rel="noopener">Website</a></div>
    `;
    quizView.innerHTML=html;

    el('#backUnits').onclick=showStart;
    el('#retryUnit').onclick=()=>startUnit(state.unit);
    el('#submit').onclick=()=>evaluateAnswer(item);
    el('#answer').addEventListener('keydown',e=>{ if(e.key==='Enter'){ e.preventDefault(); el('#submit').click(); } });
    el('#answer').focus();
  }

  function evaluateAnswer(item){
    const inp = el('#answer');
    const userRaw = inp.value || '';
    const user = strip(userRaw);

    // Special handling for two-key answers (both words must appear in any order)
    if(item.multiKey){
      const groups = item.multiKey.map(g => g.split('|'));
      const ok = groups.every(group=> group.some(w=> user.includes(strip(w))));
      return giveFeedback(ok ? 1:0, item, userRaw);
    }

    // Numeric-centric cases
    if(item.numericOk){
      const num = parseFloat(onlyDigitsDot(user));
      if(!isNaN(num)){
        if(item.exactNumeric!=null){
          const ok = Math.abs(num - Number(item.exactNumeric))<1e-6;
          return giveFeedback(ok?1:0, item, userRaw, ok?null:bestAnswer(item));
        }
        // Accept common STP volumes 22.4 or 22.7
        const ok = Math.abs(num-22.4)<0.05 || Math.abs(num-22.7)<0.05;
        return giveFeedback(ok?1:0, item, userRaw, ok?null:bestAnswer(item));
      }
    }

    // anyOf means ANY acceptable phrase indicates correct (do not enforce full match set)
    if(item.anyOf){
      const ok = item.answers.some(a=> similarity(user,a)>=0.85 || user.includes(strip(a)) );
      return giveFeedback(ok?1:0, item, userRaw, ok?null:bestAnswer(item));
    }

    // Standard textual match with partial-credit
    let isCorrect=false, isPartial=false;
    const sims = item.answers.map(a=> similarity(user,a));
    const top = Math.max(...sims);
    if(top>=0.9){ isCorrect=true; }
    else if(top>=0.6){ isPartial=true; }

    giveFeedback(isCorrect?1:0, item, userRaw, isCorrect?null:bestAnswer(item), isPartial);
  }

  function bestAnswer(item){
    // choose the most instructive/canonical looking answer
    const pref = item.answers.find(a=> /[\u0900-\u097F]/.test(a)) || item.answers[0];
    return pref.replace(/\s*&\s*/g,' ‡§è‡§µ‡§Ç ');
  }

  function giveFeedback(point, item, userRaw, correctAns, partial=false){
    const box = el('#feedback');
    if(point){
      state.score++;
      box.innerHTML = `<div class="msg ok">‚úîÔ∏è ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞!</div>`;
    }else if(partial){
      box.innerHTML = `<div class="msg mid">‚ÑπÔ∏è ‡§Ü‡§Ç‡§∂‡§ø‡§ï ‡§∏‡§π‡•Ä‡•§ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: <b>${correctAns||bestAnswer(item)}</b></div>`;
    }else{
      box.innerHTML = `<div class="msg bad">‚úò ‡§ó‡§≤‡§§ ‡§â‡§§‡•ç‡§§‡§∞‡•§ ‡§∏‡§π‡•Ä ‡§â‡§§‡•ç‡§§‡§∞: <b>${correctAns||bestAnswer(item)}</b></div>`;
    }

    // Next step / Finish
    const list=BANK[state.unit];
    state.idx++;
    if(state.idx < list.length){
      const nextBtn = document.createElement('button');
      nextBtn.textContent = '‡§Ö‡§ó‡§≤‡§æ ‡§™‡•ç‡§∞‡§∂‡•ç‡§®';
      nextBtn.className = 'btn';
      nextBtn.style.marginTop='12px';
      nextBtn.onclick = renderQuestion;
      box.appendChild(nextBtn);
    } else {
      finishUnit();
    }
  }

  function finishUnit(){
    const pct = Math.round((state.score/state.total)*100);
    quizView.innerHTML = `
      <div class="title"><span class="badge">‡§á‡§ï‡§æ‡§à-${state.unit}</span>
        <div><div style="font-size:22px;font-weight:800">${unitName(state.unit)}</div></div>
      </div>
      <div class="qbox">
        <div class="q">üéâ ‡§Ü‡§™‡§®‡•á ‡§á‡§ï‡§æ‡§à-${state.unit} ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§ï‡§∞ ‡§≤‡•Ä!</div>
        <div style="margin-top:10px">‡§ï‡•Å‡§≤ ‡§∏‡•ç‡§ï‡•ã‡§∞: <b>${state.score}</b> / ${state.total} (${pct}%)</div>
      </div>
      <div class="scorebox">
        <button class="btn" id="retry">‡§á‡§∏‡•Ä ‡§á‡§ï‡§æ‡§à ‡§ï‡§æ ‡§™‡•Å‡§®‡§É ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏</button>
        <button class="btn outline" id="home">‡§Ö‡§®‡•ç‡§Ø ‡§á‡§ï‡§æ‡§à ‡§ö‡•Å‡§®‡•á‡§Ç</button>
      </div>
      <div class="brand">MP EDUCATION GYAN DEEP ‚Ä¢ <a href="https://mpeducationgyandeep.in" target="_blank" rel="noopener">Website</a></div>
    `;
    el('#retry').onclick=()=>startUnit(state.unit);
    el('#home').onclick=showStart;
  }

  function unitName(u){
    switch(+u){
      case 1: return '‡§∞‡§∏‡§æ‡§Ø‡§® ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§ï‡•Ä ‡§Æ‡•Ç‡§≤‡§≠‡•Ç‡§§ ‡§Ö‡§µ‡§ß‡§æ‡§∞‡§£‡§æ‡§è‡§Å';
      case 2: return '‡§™‡§∞‡§Æ‡§æ‡§£‡•Å ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ';
      case 3: return '‡§§‡§§‡•ç‡§µ‡•ã‡§Ç ‡§ï‡§æ ‡§µ‡§∞‡•ç‡§ó‡•Ä‡§ï‡§∞‡§£ ‡§µ ‡§Ü‡§µ‡§∞‡•ç‡§§‡§ø‡§§‡§æ';
      case 4: return '‡§∞‡§æ‡§∏‡§æ‡§Ø‡§®‡§ø‡§ï ‡§Ü‡§¨‡§Ç‡§ß‡§® ‡§µ ‡§Ü‡§£‡•ç‡§µ‡§ø‡§ï ‡§∏‡§Ç‡§∞‡§ö‡§®‡§æ';
      default: return '';
    }
  }

  // ---------- Bind Start Buttons ----------
  els('#view-start .btn[data-unit]').forEach(b=>{
    b.addEventListener('click',()=> startUnit(Number(b.getAttribute('data-unit'))));
  });
})();
</script>

